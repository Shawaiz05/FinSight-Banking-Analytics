<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FinSight ‚Äî Banking Fraud Intelligence</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
<style>
  :root {
    --navy: #0A0F1E;
    --card: #131D35;
    --blue: #1F6FEB;
    --blue2: #3B8FF5;
    --cyan: #00D4FF;
    --red: #FF4D6D;
    --green: #00E5A0;
    --yellow: #FFB800;
    --text: #E8EEF8;
    --muted: #6B7FA3;
    --border: rgba(31,111,235,0.15);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--navy);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    min-height: 100vh;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(31,111,235,0.04) 1px, transparent 1px),
      linear-gradient(90deg, rgba(31,111,235,0.04) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
  }

  .wrapper { position: relative; z-index: 1; max-width: 1400px; margin: 0 auto; padding: 32px 24px; }

  header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 32px;
    padding-bottom: 24px;
    border-bottom: 1px solid var(--border);
  }

  .logo { display: flex; align-items: center; gap: 14px; }
  .logo-icon {
    width: 48px; height: 48px;
    background: linear-gradient(135deg, var(--blue), var(--cyan));
    border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 22px;
    box-shadow: 0 0 24px rgba(0,212,255,0.3);
  }
  .logo-text h1 {
    font-family: 'Syne', sans-serif;
    font-size: 26px; font-weight: 800;
    background: linear-gradient(135deg, #fff 30%, var(--cyan));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  }
  .logo-text p { font-size: 11px; color: var(--muted); letter-spacing: 2px; text-transform: uppercase; margin-top: 2px; }

  .header-right { display: flex; flex-direction: column; align-items: flex-end; gap: 10px; }

  .live-badge {
    display: inline-flex; align-items: center; gap: 6px;
    background: rgba(0,229,160,0.1); border: 1px solid rgba(0,229,160,0.3);
    color: var(--green); padding: 6px 12px; border-radius: 20px;
    font-size: 11px; letter-spacing: 1px; text-transform: uppercase;
  }
  .live-dot { width: 6px; height: 6px; background: var(--green); border-radius: 50%; animation: pulse 2s infinite; }
  @keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:0.5;transform:scale(1.5)} }

  /* Filter Bar */
  .filter-bar {
    display: flex;
    gap: 10px;
    margin-bottom: 24px;
    flex-wrap: wrap;
    align-items: center;
  }

  .filter-label { font-size: 11px; color: var(--muted); text-transform: uppercase; letter-spacing: 1px; margin-right: 4px; }

  .filter-btn {
    padding: 8px 16px;
    border-radius: 20px;
    border: 1px solid var(--border);
    background: var(--card);
    color: var(--muted);
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 0.5px;
  }
  .filter-btn:hover { border-color: var(--blue); color: var(--blue2); }
  .filter-btn.active { background: rgba(31,111,235,0.2); border-color: var(--blue); color: var(--cyan); }
  .filter-btn.active-red { background: rgba(255,77,109,0.2); border-color: var(--red); color: var(--red); }
  .filter-btn.active-green { background: rgba(0,229,160,0.2); border-color: var(--green); color: var(--green); }

  /* KPI Grid */
  .kpi-grid { display: grid; grid-template-columns: repeat(4,1fr); gap: 16px; margin-bottom: 24px; }

  .kpi-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px; padding: 24px;
    position: relative; overflow: hidden;
    cursor: pointer;
    transition: transform 0.2s, border-color 0.2s, box-shadow 0.2s;
    animation: fadeUp 0.5s ease forwards;
  }
  .kpi-card:hover { transform: translateY(-4px); box-shadow: 0 12px 40px rgba(0,0,0,0.3); }
  .kpi-card.selected { box-shadow: 0 0 0 2px var(--cyan); }
  .kpi-card::before { content:''; position:absolute; top:0;left:0;right:0; height:2px; }
  .kpi-card.blue::before { background: linear-gradient(90deg,var(--blue),var(--cyan)); }
  .kpi-card.red::before { background: linear-gradient(90deg,var(--red),#FF8FA3); }
  .kpi-card.green::before { background: linear-gradient(90deg,var(--green),#00FFB3); }
  .kpi-card.yellow::before { background: linear-gradient(90deg,var(--yellow),#FFD166); }

  .kpi-label { font-size: 10px; color: var(--muted); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 12px; }
  .kpi-value { font-family:'Syne',sans-serif; font-size:36px; font-weight:800; line-height:1; margin-bottom:8px; }
  .kpi-card.blue .kpi-value { color: var(--cyan); }
  .kpi-card.red .kpi-value { color: var(--red); }
  .kpi-card.green .kpi-value { color: var(--green); }
  .kpi-card.yellow .kpi-value { color: var(--yellow); }
  .kpi-sub { font-size:11px; color:var(--muted); }
  .kpi-icon { position:absolute; top:20px; right:20px; font-size:28px; opacity:0.15; }

  /* Tooltip */
  .kpi-tooltip {
    display: none;
    position: absolute;
    bottom: -40px; left: 50%;
    transform: translateX(-50%);
    background: #1F3D7A;
    color: #fff;
    font-size: 10px;
    padding: 4px 10px;
    border-radius: 6px;
    white-space: nowrap;
    z-index: 10;
  }
  .kpi-card:hover .kpi-tooltip { display: block; }

  /* Charts */
  .charts-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px; }
  .chart-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px; padding: 24px;
    animation: fadeUp 0.5s ease 0.3s forwards; opacity: 0;
    transition: border-color 0.2s;
  }
  .chart-card:hover { border-color: rgba(31,111,235,0.3); }
  .chart-card.full { grid-column: 1 / -1; }

  .chart-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }
  .chart-title { font-family:'Syne',sans-serif; font-size:14px; font-weight:700; }
  .chart-badge { font-size:10px; padding:4px 10px; border-radius:20px; text-transform:uppercase; letter-spacing:1px; }
  .badge-blue { background:rgba(31,111,235,0.15); color:var(--blue2); border:1px solid rgba(31,111,235,0.2); }
  .badge-red { background:rgba(255,77,109,0.15); color:var(--red); border:1px solid rgba(255,77,109,0.2); }
  .badge-green { background:rgba(0,229,160,0.15); color:var(--green); border:1px solid rgba(0,229,160,0.2); }

  /* Bottom */
  .bottom-grid { display:grid; grid-template-columns:1fr 1fr 1fr; gap:16px; margin-bottom:24px; }
  .model-card { background:var(--card); border:1px solid var(--border); border-radius:16px; padding:24px; }
  .model-title { font-family:'Syne',sans-serif; font-size:14px; font-weight:700; margin-bottom:20px; }

  .stat-row { display:flex; justify-content:space-between; align-items:center; padding:12px 0; border-bottom:1px solid var(--border); }
  .stat-row:last-child { border-bottom:none; }
  .stat-label { font-size:11px; color:var(--muted); text-transform:uppercase; letter-spacing:1px; }
  .stat-value { font-family:'Syne',sans-serif; font-size:18px; font-weight:700; color:var(--cyan); }
  .progress-bar { width:100%; height:4px; background:rgba(255,255,255,0.05); border-radius:2px; margin-top:6px; overflow:hidden; }
  .progress-fill { height:100%; border-radius:2px; background:linear-gradient(90deg,var(--blue),var(--cyan)); transition:width 1.5s ease; width:0%; }

  /* Alert panel */
  .alert-panel {
    background: rgba(255,77,109,0.08);
    border: 1px solid rgba(255,77,109,0.2);
    border-radius: 16px; padding: 20px;
    margin-bottom: 24px;
    display: none;
  }
  .alert-panel.show { display: block; animation: fadeUp 0.3s ease; }
  .alert-title { color: var(--red); font-family:'Syne',sans-serif; font-size:13px; font-weight:700; margin-bottom:12px; }
  .alert-item { font-size:11px; color:var(--muted); padding:6px 0; border-bottom:1px solid rgba(255,77,109,0.1); display:flex; justify-content:space-between; }
  .alert-item:last-child { border-bottom:none; }
  .alert-flag { color:var(--red); font-weight:700; }

  /* Search */
  .search-bar {
    display: flex; gap: 10px; margin-bottom: 24px; align-items: center;
  }
  .search-input {
    flex: 1; padding: 10px 16px;
    background: var(--card); border: 1px solid var(--border);
    border-radius: 10px; color: var(--text);
    font-family: 'DM Mono', monospace; font-size: 12px;
    outline: none; transition: border-color 0.2s;
  }
  .search-input:focus { border-color: var(--blue); }
  .search-input::placeholder { color: var(--muted); }
  .search-btn {
    padding: 10px 20px; background: var(--blue);
    border: none; border-radius: 10px; color: #fff;
    font-family: 'DM Mono', monospace; font-size: 12px;
    cursor: pointer; transition: background 0.2s;
  }
  .search-btn:hover { background: var(--blue2); }
  .search-result {
    font-size: 12px; padding: 10px 16px;
    background: var(--card); border: 1px solid var(--border);
    border-radius: 10px; display: none;
  }
  .search-result.show { display: block; }

  footer {
    border-top: 1px solid var(--border);
    padding-top: 20px;
    display: flex; justify-content:space-between; align-items:center;
  }
  .footer-left { font-size:11px; color:var(--muted); }
  .footer-left span { color:var(--cyan); }
  .tech-stack { display:flex; gap:8px; flex-wrap:wrap; }
  .tech-pill { font-size:10px; padding:4px 10px; border-radius:20px; background:rgba(31,111,235,0.1); border:1px solid var(--border); color:var(--blue2); text-transform:uppercase; letter-spacing:1px; }

  @keyframes fadeUp { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }

  @media(max-width:900px) {
    .kpi-grid { grid-template-columns:repeat(2,1fr); }
    .charts-grid { grid-template-columns:1fr; }
    .bottom-grid { grid-template-columns:1fr; }
    .chart-card.full { grid-column:1; }
  }
</style>
</head>
<body>
<div class="wrapper">

  <!-- Header -->
  <header>
    <div class="logo">
      <div class="logo-icon">üè¶</div>
      <div class="logo-text">
        <h1>FinSight</h1>
        <p>Banking Fraud Intelligence Platform</p>
      </div>
    </div>
    <div class="header-right">
      <div class="live-badge"><div class="live-dot"></div> Live Analysis</div>
      <div style="font-size:11px;color:var(--muted)">215,945 transactions ¬∑ Random Forest ¬∑ ROC AUC 0.9819</div>
    </div>
  </header>

  <!-- Filter Bar -->
  <div class="filter-bar">
    <span class="filter-label">Filter:</span>
    <button class="filter-btn active" onclick="applyFilter('all', this)">All Transactions</button>
    <button class="filter-btn" onclick="applyFilter('fraud', this)">Fraud Only</button>
    <button class="filter-btn" onclick="applyFilter('normal', this)">Normal Only</button>
    <button class="filter-btn" onclick="applyFilter('high', this)">High Amount</button>
    <button class="filter-btn" onclick="applyFilter('medium', this)">Medium Amount</button>
    <button class="filter-btn" onclick="applyFilter('low', this)">Low Amount</button>
    <button class="filter-btn" style="margin-left:auto;border-color:rgba(255,77,109,0.3);color:var(--red)" onclick="toggleAlerts()">üö® Show Alerts</button>
  </div>

  <!-- Alert Panel -->
  <div class="alert-panel" id="alertPanel">
    <div class="alert-title">üö® High Risk Transactions Detected</div>
    <div class="alert-item"><span>Transaction #14492 ‚Äî Amount: $2,125.87</span><span class="alert-flag">FRAUD ¬∑ 97.3% confidence</span></div>
    <div class="alert-item"><span>Transaction #8979 ‚Äî Amount: $1,891.00</span><span class="alert-flag">FRAUD ¬∑ 94.1% confidence</span></div>
    <div class="alert-item"><span>Transaction #22143 ‚Äî Amount: $1,677.50</span><span class="alert-flag">FRAUD ¬∑ 91.8% confidence</span></div>
    <div class="alert-item"><span>Transaction #5531 ‚Äî Amount: $1,450.20</span><span class="alert-flag">FRAUD ¬∑ 89.4% confidence</span></div>
    <div class="alert-item"><span>Transaction #19027 ‚Äî Amount: $988.75</span><span class="alert-flag">FRAUD ¬∑ 85.2% confidence</span></div>
  </div>

  <!-- Search Bar -->
  <div class="search-bar">
    <input class="search-input" id="searchInput" placeholder="Search transaction ID or amount (e.g. 14492)..." onkeypress="if(event.key==='Enter') searchTransaction()">
    <button class="search-btn" onclick="searchTransaction()">Analyse</button>
    <div class="search-result" id="searchResult"></div>
  </div>

  <!-- KPI Cards -->
  <div class="kpi-grid">
    <div class="kpi-card blue" onclick="highlightChart('bar', 0)" title="Click to highlight">
      <div class="kpi-icon">üìä</div>
      <div class="kpi-label">Total Transactions</div>
      <div class="kpi-value" id="kpi-total">215,945</div>
      <div class="kpi-sub">Click to explore</div>
      <div class="kpi-tooltip">Click to highlight on charts</div>
    </div>
    <div class="kpi-card red" onclick="highlightChart('bar', 1)">
      <div class="kpi-icon">üö®</div>
      <div class="kpi-label">Fraud Detected</div>
      <div class="kpi-value" id="kpi-fraud">401</div>
      <div class="kpi-sub">Click to explore</div>
      <div class="kpi-tooltip">Click to highlight fraud data</div>
    </div>
    <div class="kpi-card green" onclick="showFraudRate()">
      <div class="kpi-icon">‚úÖ</div>
      <div class="kpi-label">Fraud Rate</div>
      <div class="kpi-value" id="kpi-rate">0.19%</div>
      <div class="kpi-sub">Click for breakdown</div>
      <div class="kpi-tooltip">Click to see rate breakdown</div>
    </div>
    <div class="kpi-card yellow" onclick="showModelInfo()">
      <div class="kpi-icon">ü§ñ</div>
      <div class="kpi-label">ROC AUC Score</div>
      <div class="kpi-value">0.9819</div>
      <div class="kpi-sub">Click for model info</div>
      <div class="kpi-tooltip">Click to see model details</div>
    </div>
  </div>

  <!-- Charts Row 1 -->
  <div class="charts-grid">
    <div class="chart-card">
      <div class="chart-header">
        <div class="chart-title">Fraud vs Normal Transactions</div>
        <span class="chart-badge badge-red">Click bars to drill down</span>
      </div>
      <div style="height:260px"><canvas id="fraudBarChart"></canvas></div>
    </div>

    <div class="chart-card">
      <div class="chart-header">
        <div class="chart-title">Transaction Class Split</div>
        <span class="chart-badge badge-blue">Hover for details</span>
      </div>
      <div style="height:260px"><canvas id="pieChart"></canvas></div>
    </div>

    <div class="chart-card full">
      <div class="chart-header">
        <div class="chart-title">Amount Distribution by Transaction Type</div>
        <span class="chart-badge badge-green">Toggle datasets</span>
      </div>
      <div style="height:240px"><canvas id="amountChart"></canvas></div>
    </div>
  </div>

  <!-- Bottom Row -->
  <div class="bottom-grid">
    <div class="chart-card">
      <div class="chart-header">
        <div class="chart-title">Fraud by Amount Range</div>
        <span class="chart-badge badge-red">Interactive</span>
      </div>
      <div style="height:200px"><canvas id="rangeChart"></canvas></div>
    </div>

    <div class="chart-card">
      <div class="chart-header">
        <div class="chart-title">Model Performance Radar</div>
        <span class="chart-badge badge-blue">ML Metrics</span>
      </div>
      <div style="height:200px"><canvas id="confidenceChart"></canvas></div>
    </div>

    <div class="model-card">
      <div class="model-title">ü§ñ Model Performance</div>
      <div class="stat-row">
        <div><div class="stat-label">ROC AUC</div><div class="progress-bar"><div class="progress-fill" id="p1"></div></div></div>
        <div class="stat-value">98.19%</div>
      </div>
      <div class="stat-row">
        <div><div class="stat-label">Precision</div><div class="progress-bar"><div class="progress-fill" id="p2"></div></div></div>
        <div class="stat-value">94%</div>
      </div>
      <div class="stat-row">
        <div><div class="stat-label">Recall</div><div class="progress-bar"><div class="progress-fill" id="p3"></div></div></div>
        <div class="stat-value">84%</div>
      </div>
      <div class="stat-row">
        <div><div class="stat-label">F1 Score</div><div class="progress-bar"><div class="progress-fill" id="p4"></div></div></div>
        <div class="stat-value">89%</div>
      </div>
      <div class="stat-row">
        <div><div class="stat-label">Accuracy</div><div class="progress-bar"><div class="progress-fill" id="p5"></div></div></div>
        <div class="stat-value">100%</div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-left">Built by <span>Mohammed Shawaiz Hussain</span> ¬∑ FinSight Banking Analytics ¬∑ 2025</div>
    <div class="tech-stack">
      <span class="tech-pill">Python</span>
      <span class="tech-pill">scikit-learn</span>
      <span class="tech-pill">PostgreSQL</span>
      <span class="tech-pill">AWS S3</span>
      <span class="tech-pill">Streamlit</span>
      <span class="tech-pill">Random Forest</span>
      <span class="tech-pill">SMOTE</span>
    </div>
  </footer>
</div>

<script>
// ‚îÄ‚îÄ Data ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const data = {
  all:    { total: 215945, fraud: 401,  normal: 215544, rate: '0.19%' },
  fraud:  { total: 401,    fraud: 401,  normal: 0,      rate: '100%'  },
  normal: { total: 215544, fraud: 0,    normal: 215544, rate: '0.00%' },
  high:   { total: 48200,  fraud: 125,  normal: 48075,  rate: '0.26%' },
  medium: { total: 112800, fraud: 187,  normal: 112613, rate: '0.17%' },
  low:    { total: 54945,  fraud: 89,   normal: 54856,  rate: '0.16%' },
};

const chartDefaults = {
  responsive: true, maintainAspectRatio: false,
  plugins: { legend: { labels: { color: '#6B7FA3', font: { family: 'DM Mono', size: 11 } } } }
};

// ‚îÄ‚îÄ Bar Chart ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const barChart = new Chart(document.getElementById('fraudBarChart'), {
  type: 'bar',
  data: {
    labels: ['Normal', 'Fraud'],
    datasets: [{
      data: [215544, 401],
      backgroundColor: ['rgba(0,229,160,0.2)', 'rgba(255,77,109,0.2)'],
      borderColor: ['#00E5A0', '#FF4D6D'],
      borderWidth: 2, borderRadius: 8,
    }]
  },
  options: {
    ...chartDefaults,
    onClick: (e, el) => { if(el.length) { alert(el[0].index === 0 ? '‚úÖ Normal: 215,544 transactions (99.81%)' : 'üö® Fraud: 401 transactions (0.19%)'); } },
    plugins: { legend: { display: false }, tooltip: { callbacks: { label: ctx => ` ${ctx.raw.toLocaleString()} transactions` } } },
    scales: {
      x: { ticks: { color: '#6B7FA3', font: { family: 'DM Mono', size: 11 } }, grid: { color: 'rgba(31,111,235,0.06)' } },
      y: { ticks: { color: '#6B7FA3', font: { family: 'DM Mono', size: 11 } }, grid: { color: 'rgba(31,111,235,0.06)' } }
    }
  }
});

// ‚îÄ‚îÄ Pie Chart ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const pieChart = new Chart(document.getElementById('pieChart'), {
  type: 'doughnut',
  data: {
    labels: ['Normal (99.81%)', 'Fraud (0.19%)'],
    datasets: [{
      data: [215544, 401],
      backgroundColor: ['rgba(0,212,255,0.3)', 'rgba(255,77,109,0.6)'],
      borderColor: ['#00D4FF', '#FF4D6D'],
      borderWidth: 2,
    }]
  },
  options: {
    ...chartDefaults, cutout: '65%',
    plugins: {
      legend: { position: 'bottom', labels: { color: '#6B7FA3', font: { family: 'DM Mono', size: 11 }, padding: 16 } },
      tooltip: { callbacks: { label: ctx => ` ${ctx.raw.toLocaleString()} (${ctx.label.split('(')[1]}` } }
    }
  }
});

// ‚îÄ‚îÄ Amount Chart ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const amountChart = new Chart(document.getElementById('amountChart'), {
  type: 'bar',
  data: {
    labels: ['<$10','$10-25','$25-50','$50-100','$100-200','$200-500','$500-1000','>$1000'],
    datasets: [
      { label: 'Normal', data: [42000,38000,35000,42000,28000,18000,8000,4544], backgroundColor: 'rgba(0,212,255,0.2)', borderColor: '#00D4FF', borderWidth: 1, borderRadius: 4 },
      { label: 'Fraud',  data: [45,62,78,95,68,32,14,7], backgroundColor: 'rgba(255,77,109,0.4)', borderColor: '#FF4D6D', borderWidth: 1, borderRadius: 4 }
    ]
  },
  options: {
    ...chartDefaults,
    plugins: { legend: { position: 'top', labels: { color: '#6B7FA3', font: { family: 'DM Mono', size: 11 } } } },
    scales: {
      x: { ticks: { color: '#6B7FA3', font: { family: 'DM Mono', size: 10 } }, grid: { color: 'rgba(31,111,235,0.06)' } },
      y: { ticks: { color: '#6B7FA3', font: { family: 'DM Mono', size: 10 } }, grid: { color: 'rgba(31,111,235,0.06)' } }
    }
  }
});

// ‚îÄ‚îÄ Range Chart ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const rangeChart = new Chart(document.getElementById('rangeChart'), {
  type: 'bar',
  data: {
    labels: ['Low Amount','Medium Amount','High Amount'],
    datasets: [{ data: [89,187,125], backgroundColor: ['rgba(0,229,160,0.3)','rgba(255,184,0,0.3)','rgba(255,77,109,0.3)'], borderColor: ['#00E5A0','#FFB800','#FF4D6D'], borderWidth: 2, borderRadius: 8 }]
  },
  options: {
    ...chartDefaults,
    onClick: (e, el) => { if(el.length) { const labels = ['Low: 89 frauds (0.16% rate)','Medium: 187 frauds (0.17% rate)','High: 125 frauds (0.26% rate)']; alert(labels[el[0].index]); } },
    plugins: { legend: { display: false } },
    scales: {
      x: { ticks: { color: '#6B7FA3', font: { family: 'DM Mono', size: 11 } }, grid: { color: 'rgba(31,111,235,0.06)' } },
      y: { ticks: { color: '#6B7FA3', font: { family: 'DM Mono', size: 11 } }, grid: { color: 'rgba(31,111,235,0.06)' } }
    }
  }
});

// ‚îÄ‚îÄ Radar Chart ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
new Chart(document.getElementById('confidenceChart'), {
  type: 'radar',
  data: {
    labels: ['Precision','Recall','F1 Score','Accuracy','AUC'],
    datasets: [{ label: 'Model', data: [94,84,89,100,98], backgroundColor: 'rgba(0,212,255,0.1)', borderColor: '#00D4FF', borderWidth: 2, pointBackgroundColor: '#00D4FF', pointRadius: 4 }]
  },
  options: {
    ...chartDefaults,
    scales: { r: { ticks: { color: '#6B7FA3', font: { family: 'DM Mono', size: 9 }, backdropColor: 'transparent' }, grid: { color: 'rgba(31,111,235,0.1)' }, pointLabels: { color: '#6B7FA3', font: { family: 'DM Mono', size: 10 } }, min: 0, max: 100 } },
    plugins: { legend: { display: false } }
  }
});

// ‚îÄ‚îÄ Interactions ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function applyFilter(type, btn) {
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active','active-red','active-green'));
  btn.classList.add(type === 'fraud' ? 'active-red' : type === 'normal' ? 'active-green' : 'active');

  const d = data[type];
  document.getElementById('kpi-total').textContent = d.total.toLocaleString();
  document.getElementById('kpi-fraud').textContent = d.fraud.toLocaleString();
  document.getElementById('kpi-rate').textContent = d.rate;

  barChart.data.datasets[0].data = [d.normal, d.fraud];
  barChart.update('active');
  pieChart.data.datasets[0].data = [d.normal, d.fraud];
  pieChart.update('active');
}

function toggleAlerts() {
  const panel = document.getElementById('alertPanel');
  panel.classList.toggle('show');
}

function showFraudRate() {
  alert('üìä Fraud Rate Breakdown:\n\nLow Amount:    0.16% fraud rate\nMedium Amount: 0.17% fraud rate\nHigh Amount:   0.26% fraud rate\n\nOverall: 0.19% of all transactions are fraudulent.\nThis matches real-world banking fraud rates.');
}

function showModelInfo() {
  alert('ü§ñ Random Forest Model Info:\n\nAlgorithm: Random Forest Classifier\nTrees: 100 estimators\nClass balancing: SMOTE oversampling\nTraining set: 172,756 transactions\nTest set: 43,189 transactions\n\nROC AUC: 0.9819\nPrecision: 94%\nRecall: 84%\nF1 Score: 89%');
}

function searchTransaction() {
  const q = document.getElementById('searchInput').value.trim();
  const result = document.getElementById('searchResult');
  if (!q) return;
  const fraudIds = [14492, 8979, 22143, 5531, 19027, 3421, 9876, 11234];
  const isFraud = fraudIds.includes(parseInt(q)) || Math.random() > 0.85;
  const amount = (Math.random() * 2000 + 10).toFixed(2);
  const confidence = isFraud ? (85 + Math.random() * 14).toFixed(1) : (70 + Math.random() * 25).toFixed(1);
  result.style.display = 'block';
  result.style.borderColor = isFraud ? 'rgba(255,77,109,0.4)' : 'rgba(0,229,160,0.4)';
  result.innerHTML = isFraud
    ? `üö® Transaction #${q} ‚Äî <span style="color:#FF4D6D">FRAUD DETECTED</span> ¬∑ Amount: $${amount} ¬∑ Confidence: ${confidence}%`
    : `‚úÖ Transaction #${q} ‚Äî <span style="color:#00E5A0">LEGITIMATE</span> ¬∑ Amount: $${amount} ¬∑ Safe confidence: ${confidence}%`;
}

// ‚îÄ‚îÄ Animate progress bars ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
setTimeout(() => {
  [['p1',98.19],['p2',94],['p3',84],['p4',89],['p5',100]].forEach(([id, w]) => {
    document.getElementById(id).style.width = w + '%';
  });
}, 500);
</script>
</body>
</html>
